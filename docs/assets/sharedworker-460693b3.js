(function(){"use strict";onconnect=s=>{const t=s.ports[0],a="https://stream.wikimedia.org/v2/stream/recentchange",n=new EventSource(a);let r=new Set;t.start(),console.log("worker started"),n.onopen=()=>{console.info("Opened connection.")},n.onerror=e=>{console.error("Encountered error",e)},n.onmessage=e=>{const o=JSON.parse(e.data);r.has(o.server_name)&&o.namespace==0&&o.type=="edit"&&t.postMessage(o)},t.onmessage=e=>{r=e.data}}})();
